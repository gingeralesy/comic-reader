<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="UTF-8"/>
    <title><c:splice lquery="(text (dm:field comic 'comic-name))"/> - Comic Reader</title>
    <c:splice lquery="(reader-template :stylesheets)"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"
          @href="/static/comic-reader/css/comicReader.css"/>
    <!-- CSS specific to this page -->
  </head>
  <body>
    <c:splice lquery="(reader-template :header)"/>

    <c:using value="comic">
      <input type="hidden" id="comic-data"
             lquery="(data :id (dm:id *)
                           :path (dm:field * 'comic-path)
                           :name (dm:field * 'comic-name)
                           :author (dm:field * 'author)
                           :cover (dm:field * 'cover-uri)
                           :description (dm:field * 'description))" />
    </c:using>
    <c:using value="page">
      <input type="hidden" id="page-data"
             lquery="(data :page-number (dm:field * 'page-number)
                           :title (dm:field * 'title)
                           :commentary (dm:field * 'commentary)
                           :publish-time (dm:field * 'publish-time)
                           :tags (dm:field * 'tags)
                           :transcript (dm:field * 'transcript)
                           :image-uri (dm:field * 'image-uri)
                           :thumb-uri (dm:field * 'thumb-uri)
                           :double-page (= 1 (dm:field * 'double-page)))" />
    </c:using>
    
    <!-- Content for this template -->
    <div id="content" >
      <div id="reader" class="outlined">
        <div id="transcript" class="hidden" lquery="(text (dm:field page 'transcript))" />
        <img id="current-page" class="comic-page" src="" alt="comic page"
             lquery="(image-metadata comic page)" />
      </div>

      <div id="artist-commentary" class="outlined text-box">
        <p>This is where commentary about the current comic page will go once I get that far.</p>
        <p>I'm not going to bother with the look of the website yet.</p>
      </div>
      
      <div id="comments" class="outlined text-box">
        <p>Pretend there's a comments box here. I'll probably use Disqus so people won't have to make accounts.</p>
      </div>
    </div>

    <c:splice lquery="(reader-template :footer)"/>

    <!-- Scripts specific to this page -->
    <script type="text/javascript" src="../js/comicReader.jquery.js"
            @src="/static/comic-reader/js/comicReader.jquery.js"></script>
    <script type="text/javascript" src="../js/comic.js"
            @src="/static/comic-reader/js/comic.js"></script>
  </body>
</html>
